{% extends "admin/admin_base.html" %}

{% block title %}Patient Details{% endblock %}

{% block content %}
<div class="container mt-4">

  <h4>Patient Details</h4>
  <hr>

  {% if patient %}
    <div class="border rounded p-3 mb-3 bg-light">
      <p><strong>Name:</strong> {{ patient.full_name }}</p>
      <p><strong>Email:</strong> {{ patient.email }}</p>
      <p><strong>Phone:</strong> {{ patient.phone_no }}</p>

      {% if patient.dob %}
        <p><strong>DOB:</strong> {{ patient.dob }}</p>
      {% endif %}

      <p>
        <strong>Address:</strong>
        <span class="text-muted">{{ patient.address }}</span>
      </p>
    </div>

    <div class="mt-3">
      <a href="{{ url_for('admin_role_tab', role='patients') }}" class="btn btn-secondary btn-sm">â† Back</a>

      <!-- Use patient.patient_id here -->
      <form method="post" action="{{ url_for('delete_patient', patient_id=patient.patient_id) }}"
            style="display:inline;" onsubmit="return confirm('Delete this patient?');">
        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
      </form>
    </div>

  {% else %}
    <div class="alert alert-warning">Patient not found.</div>
  {% endif %}

</div>
{% endblock %}
