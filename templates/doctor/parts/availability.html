<!-- doctor/parts/availability.html -->
<form method="post" action="{{ url_for('doctor_availability') }}" novalidate>
  {# If you use Flask-WTF with CSRF, uncomment the next line: #}
  {# {{ form.csrf_token }} #}

  <div class="availability-list">
    {% for slot in availability %}
      <div class="availability-day" style="margin-bottom:1rem; padding:.6rem; border:1px solid #eee;">
        <div style="font-weight:600;">{{ slot.date.strftime("%A, %d %b %Y") }}</div>

        <div style="margin-top:.5rem; display:flex; gap:1.2rem; align-items:center;">
          <!-- Morning checkbox (fixed 09:00 - 12:00) -->
          <label style="display:flex; align-items:center; gap:.5rem;">
            <input type="checkbox" name="shift1_{{ slot.key }}" {% if slot.shift1_enabled %}checked{% endif %}>
            <span>Morning — 09:00 &mdash; 12:00</span>
          </label>

          <!-- Afternoon checkbox (fixed 13:00 - 16:00) -->
          <label style="display:flex; align-items:center; gap:.5rem;">
            <input type="checkbox" name="shift2_{{ slot.key }}" {% if slot.shift2_enabled %}checked{% endif %}>
            <span>Afternoon — 13:00 &mdash; 16:00</span>
          </label>
        </div>
      </div>
    {% endfor %}
  </div>

  <!-- Submit button: this sends the POST to the action above -->
  <div style="margin-top:1rem;">
    <button type="submit" class="btn btn-primary">Save</button>
  </div>
</form>


